version: "3.9"

services:
  twingate:
    image: twingate/connector:latest
    container_name: twingate
    restart: unless-stopped
    environment:
      TWINGATE_NETWORK: "{{ twingate_network }}"
      TWINGATE_ACCESS_TOKEN: "{{ twingate_access_token }}"
      TWINGATE_REFRESH_TOKEN: "{{ twingate_refresh_token }}"
{% if twingate_labels | length > 0 %}
      TWINGATE_LABELS: "{{ twingate_labels | join(',') }}"
{% endif %}
    # Bridge reicht normalerweise; Host geht auch, wenn gew√ºnscht
    network_mode: bridge
    volumes:
      - ./etc-twingate:/etc/twingate
